#!/usr/bin/env bash
# Completion for co (git checkout wrapper)
_co_complete() {
    local cur branches files
    cur="${COMP_WORDS[COMP_CWORD]}"

    # Get branches
    branches=$(git branch --format='%(refname:short)' 2>/dev/null)

    # Get modified files
    files=$(git status --porcelain 2>/dev/null | awk '{print $2}')

    # Combine branches and files for completion
    COMPREPLY=($(compgen -W "$branches $files" -- "$cur"))
}

complete -F _co_complete co
